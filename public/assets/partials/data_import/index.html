<div class="page-header" id="banner">
	<div class="row">
		<h1>Upload & Import data</h1>
	</div>
</div>

<div class="row">
	<table class="table table-striped table-bordered">
		<thead>
			<tr>
				<th>Type of data</th>
				<th>File name</th>
				<th>Uploaded at</th>
				<th>Status</th>
				<th>Options</th>
			</tr>
		</thead>
		<tbody>
			<tr data-ng-repeat="data_import in Ctrl.data_imports">
				<td>{{ data_import.model }}</td>
				<td>
					<a href="{{ data_import.data_url }}">{{ data_import.data_file_name }}</a>
				</td>
				<td>{{ data_import.data_updated_at }}</td>
				<td>
					{{ data_import.status_text }}
					<div ng-hide="{{ data_import.status != 0 }}" class="progress" style="margin-top: 5px">
						<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="{{ data_import.progress }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ data_import.progress }}%">
    						<span class="sr-only">{{ data_import.progress }}% Complete</span>
  						</div>
					</div>
				</td>
				<td>
					<button type="button" class="btn btn-xs btn-primary" ng-disabled="{{ data_import.status != -1 }}" ng-click="Ctrl.importData(data_import.id)">Import data</button>
					<button type="button" class="btn btn-xs btn-danger" ng-disabled="{{ data_import.status == 0 }}" ng-click="Ctrl.deleteFile(data_import.id)">Delete file</button>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="row">
	<form novalidate>
		<div class="form-group">
			<label for="inputCSVFile">Select file: </label>
    		<input type="file" ngf-select ng-model="DataImport.file" class="form-control" id="inputCSVFile">
		</div>
		<div class="form-group">
			<label for="inputDataType">Select data type: </label>
    		<select ng-model="DataImport.model" class="form-control" id="inputDataType">
    			<option value="Students">Students</option>
    			<option value="Teachers">Teachers</option>
    			<option value="Courses">Courses</option>
    			<option value="Subjects">Subjects</option>
    			<option value="Fields">Fields</option>
    		</select>
		</div>
		<button class="btn btn-default" ng-click="Ctrl.uploadFile(DataImport)">Upload file</button>
	</form>
</div>