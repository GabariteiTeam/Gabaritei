<div class="page-header" id="banner">
	<div class="row">
		<h1>Upload & Import data</h1>
	</div>
</div>

<div class="row">
	<table class="table table-striped table-bordered">
		<thead>
			<tr>
				<th>Type of data</th>
				<th>File name</th>
				<th>Uploaded at</th>
				<th>Status</th>
				<th>Options</th>
			</tr>
		</thead>
		<tbody>
			<tr data-ng-repeat="data_import in Ctrl.data_imports">
				<td>{{ data_import.model_text }}</td>
				<td>
					<a href="{{ data_import.data_url }}">{{ data_import.data_file_name }}</a>
				</td>
				<td>{{ data_import.update_date_text }}</td>
				<td>
					<span style="{{ data_import.status == 2 ? 'color: red' : ''}}">{{ data_import.status_text }}</span>
					<div ng-hide="{{ data_import.status != 0 }}" class="progress" style="margin-top: 5px">
						<div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="{{ data_import.progress }}" aria-valuemin="0" aria-valuemax="100" style="width: {{ data_import.progress }}%">
    						<span class="sr-only">{{ data_import.progress }}% Complete</span>
  						</div>
					</div>
				</td>
				<td>
					<button type="button" class="btn btn-xs btn-primary" ng-disabled="{{ data_import.status != -1 }}" ng-click="Ctrl.importData(data_import.id)">Import data</button>
					<button type="button" class="btn btn-xs btn-danger" ng-disabled="{{ data_import.status == 0 }}" ng-click="Ctrl.deleteFile(data_import.id)">Delete file</button>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="row">
	<form novalidate ng-include="'templates/data_imports/_form.html'" ng-submit="Ctrl.uploadFile()"></form>
</div>
